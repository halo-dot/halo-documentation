<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-documentations/adaptor/adaptor" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Halo Dot Adaptor Setup Guide | Halodot.io</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://cdn.prod.website-files.com/63f8ad30f40a41f7b046d567/67ac8d81adc0bbd4b1e9e0dc_Image.png"><meta data-rh="true" name="twitter:image" content="https://cdn.prod.website-files.com/63f8ad30f40a41f7b046d567/67ac8d81adc0bbd4b1e9e0dc_Image.png"><meta data-rh="true" property="og:url" content="http://docs.halodot.io/docs/documentations/adaptor/adaptor"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="algolia-site-verification" content="EC2FE34B58BA9FB0"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Halo Dot Adaptor Setup Guide | Halodot.io"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/img/favicon-32x32.png"><link data-rh="true" rel="canonical" href="http://docs.halodot.io/docs/documentations/adaptor/adaptor"><link data-rh="true" rel="alternate" href="http://docs.halodot.io/docs/documentations/adaptor/adaptor" hreflang="en"><link data-rh="true" rel="alternate" href="http://docs.halodot.io/docs/documentations/adaptor/adaptor" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://S2W3MQE857-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"The Adaptor","item":"http://docs.halodot.io/docs/category/the-adaptor"},{"@type":"ListItem","position":2,"name":"Halo Dot Adaptor Setup Guide","item":"http://docs.halodot.io/docs/documentations/adaptor/adaptor"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Halodot.io RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Halodot.io Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="Halodot.io" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.e57b2d57.css">
<script src="/assets/js/runtime~main.e7703113.js" defer="defer"></script>
<script src="/assets/js/main.2ec7bdd6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="https://cdn.prod.website-files.com/63f8ad30f40a41f7b046d567/63fdb37c730d1f0e75df5d44_Logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="https://cdn.prod.website-files.com/63f8ad30f40a41f7b046d567/63fdb37c730d1f0e75df5d44_Logo.svg" alt="halo dot Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="https://cdn.prod.website-files.com/63f8ad30f40a41f7b046d567/63fdb37c730d1f0e75df5d44_Logo.svg" alt="halo dot Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/category/intents">Documentation</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/documentations/adaptor/adaptor">4.0</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/documentations/adaptor/adaptor">4.0</a></li><li><a class="dropdown__link" href="/docs/versioned_docs/version-2.1/documentations/intro">2.1</a></li></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/halo-dot/test_app-android_sdk" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/intents">Intents</a><button aria-label="Expand sidebar category &#x27;Intents&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/sdk-integration-guide">SDK Integration Guide</a><button aria-label="Expand sidebar category &#x27;SDK Integration Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/api-docs">API Docs</a><button aria-label="Expand sidebar category &#x27;API Docs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/tap-on-own-device">Tap on own device</a><button aria-label="Expand sidebar category &#x27;Tap on own device&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/documentations/security-guidance">Security guidance</a><button aria-label="Expand sidebar category &#x27;Security guidance&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/the-adaptor">The Adaptor</a><button aria-label="Collapse sidebar category &#x27;The Adaptor&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/documentations/adaptor/quickstart">Quick start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/documentations/adaptor/adaptor">Halo Dot Adaptor Setup Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/documentations/adaptor/bootstrapping">Halo Dot Adaptor Bootstrapping Guide</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/category/the-adaptor"><span>The Adaptor</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Halo Dot Adaptor Setup Guide</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 4.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Halo Dot Adaptor Setup Guide</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>Halo Dot is a Software Point of Sale (SoftPOS) provider that enables secure payment acceptance on
mobile devices. The Halo Dot Adaptor is a self-hosted service that allows you to process SoftPOS
payments within your own infrastructure while maintaining the security and compliance benefits of
the Halo Dot platform.</p>
<p>By deploying the Adaptor in your environment, you gain full control over payment data flow and
customer information and direct integration with your existing payment infrastructure.</p>
<p>The Adaptor maintains a secure connection to Halo Dot&#x27;s attestation and monitoring (A&amp;M) service to
ensure device security and compliance while processing payments locally.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="architecture-overview">Architecture Overview<a href="#architecture-overview" class="hash-link" aria-label="Direct link to Architecture Overview" title="Direct link to Architecture Overview">​</a></h2>
<p>The Adaptor deployment creates a secure payment processing environment within your infrastructure:</p>
<!-- -->
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="component-responsibilities">Component Responsibilities<a href="#component-responsibilities" class="hash-link" aria-label="Direct link to Component Responsibilities" title="Direct link to Component Responsibilities">​</a></h3>
<ul>
<li>
<p><strong>Adaptor Service</strong>:</p>
<ul>
<li>Processes payment requests from SoftPOS devices</li>
<li>Manages secure key generation and storage</li>
<li>Handles device attestation verification</li>
<li>Orchestrates transaction flow</li>
<li>Health checks include verification of A&amp;M server connectivity</li>
</ul>
</li>
<li>
<p><strong>Payment Provider</strong>:</p>
<ul>
<li>Translates between Halo Dot protocol and your payment switch</li>
</ul>
</li>
<li>
<p><strong>HSM Service</strong>:</p>
<ul>
<li>Provides cryptographic operations for payment processing</li>
</ul>
</li>
<li>
<p><strong>Attestation &amp; Monitoring (Halo Dot)</strong>:</p>
<ul>
<li>Verifies device integrity and security</li>
<li>Monitors for security threats</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="infrastructure-requirements">Infrastructure Requirements<a href="#infrastructure-requirements" class="hash-link" aria-label="Direct link to Infrastructure Requirements" title="Direct link to Infrastructure Requirements">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes-cluster">Kubernetes Cluster<a href="#kubernetes-cluster" class="hash-link" aria-label="Direct link to Kubernetes Cluster" title="Direct link to Kubernetes Cluster">​</a></h4>
<ul>
<li><strong>Version</strong>: 1.24 or higher</li>
<li><strong>Nodes</strong>: Minimum 3 nodes for production high availability</li>
<li><strong>Resources</strong>:<!-- -->
<ul>
<li>Minimum 4 vCPU and 8GB RAM available for Halo Dot services</li>
<li>Additional capacity for traffic spikes</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="postgresql-database">PostgreSQL Database<a href="#postgresql-database" class="hash-link" aria-label="Direct link to PostgreSQL Database" title="Direct link to PostgreSQL Database">​</a></h4>
<ul>
<li><strong>Version</strong>: 13 or higher</li>
<li><strong>Configuration</strong>:<!-- -->
<ul>
<li>SSL/TLS enabled (required for PCI compliance)</li>
<li>Connection pooling recommended</li>
<li>Backup strategy in place</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="redis">Redis<a href="#redis" class="hash-link" aria-label="Direct link to Redis" title="Direct link to Redis">​</a></h4>
<ul>
<li><strong>Version</strong>: 6.2 or higher</li>
<li><strong>Purpose</strong>: Session management, caching, and temporary transaction data</li>
<li><strong>Configuration</strong>:<!-- -->
<ul>
<li>Authentication enabled</li>
<li>Persistence configured (AOF or RDB)</li>
<li>Memory limits set appropriately</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hardware-security-module">Hardware Security Module<a href="#hardware-security-module" class="hash-link" aria-label="Direct link to Hardware Security Module" title="Direct link to Hardware Security Module">​</a></h4>
<ul>
<li><strong>Supported</strong>: Thales PayShield 10K</li>
<li><strong>Network</strong>: Accessible from Kubernetes cluster</li>
<li><strong>Configuration</strong>: Pre-configured with required LMKs</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-requirements">AWS Requirements<a href="#aws-requirements" class="hash-link" aria-label="Direct link to AWS Requirements" title="Direct link to AWS Requirements">​</a></h3>
<p>The Adaptor automatically provisions its own KMS keys and secrets. You need:</p>
<ul>
<li><strong>IAM Role/User</strong> with the following permissions:<!-- -->
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;Version&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2012-10-17&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;Statement&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;Effect&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Allow&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;Action&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;kms:CreateKey&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;kms:CreateAlias&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;kms:DescribeKey&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;kms:GenerateDataKey&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;kms:Decrypt&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;Resource&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;*&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;Effect&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Allow&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;Action&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;secretsmanager:CreateSecret&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;secretsmanager:GetSecretValue&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;secretsmanager:DescribeSecret&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;secretsmanager:UpdateSecret&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;Resource&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;arn:aws:secretsmanager:*:*:secret:halo-*&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="network-requirements">Network Requirements<a href="#network-requirements" class="hash-link" aria-label="Direct link to Network Requirements" title="Direct link to Network Requirements">​</a></h3>
<ul>
<li><strong>Outbound HTTPS (443)</strong> to:<!-- -->
<ul>
<li>Halo Dot A&amp;M service (will be provided)</li>
<li>AWS KMS and Secrets Manager endpoints</li>
</ul>
</li>
<li><strong>Inbound HTTPS (443)</strong> from:<!-- -->
<ul>
<li>Your SoftPOS mobile applications</li>
<li>Your monitoring/operations tools</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="access-requirements">Access Requirements<a href="#access-requirements" class="hash-link" aria-label="Direct link to Access Requirements" title="Direct link to Access Requirements">​</a></h3>
<ul>
<li><strong>Container Registry</strong>: Credentials for Halo Dot private registry</li>
<li><strong>Halo Dot Tenant ID</strong>: Provided during onboarding</li>
<li><strong>A&amp;M Service Endpoint</strong>: Provided during onboarding</li>
<li><strong>Helm 3.x</strong>: Installed on deployment machine</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation-steps">Installation Steps<a href="#installation-steps" class="hash-link" aria-label="Direct link to Installation Steps" title="Direct link to Installation Steps">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-configure-database-and-redis">Step 1: Configure Database and Redis<a href="#step-1-configure-database-and-redis" class="hash-link" aria-label="Direct link to Step 1: Configure Database and Redis" title="Direct link to Step 1: Configure Database and Redis">​</a></h3>
<ol>
<li>
<p><strong>Create PostgreSQL database</strong>:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DATABASE</span><span class="token plain"> halodot_adaptor</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">USER</span><span class="token plain"> halodot_user </span><span class="token keyword" style="color:#00009f">WITH</span><span class="token plain"> ENCRYPTED PASSWORD </span><span class="token string" style="color:#e3116c">&#x27;&lt;secure-password&gt;&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GRANT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ALL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIVILEGES</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DATABASE</span><span class="token plain"> halodot_adaptor </span><span class="token keyword" style="color:#00009f">TO</span><span class="token plain"> halodot_user</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>Verify Redis authentication</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">redis-cli -h &lt;redis-host&gt; -a &lt;redis-password&gt; ping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Should return: PONG</span><br></span></code></pre></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-add-helm-repository">Step 2: Add Helm Repository<a href="#step-2-add-helm-repository" class="hash-link" aria-label="Direct link to Step 2: Add Helm Repository" title="Direct link to Step 2: Add Helm Repository">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm repo add halodot https://halo-dot.github.io/helm-charts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm repo update</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-create-values-configuration">Step 3: Create Values Configuration<a href="#step-3-create-values-configuration" class="hash-link" aria-label="Direct link to Step 3: Create Values Configuration" title="Direct link to Step 3: Create Values Configuration">​</a></h3>
<p>Create a <code>values.yaml</code> file tailored to your environment:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Version provided by Halo Dot</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;provided-version&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Adaptor configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">adaptor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">repository</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &lt;Either your repository</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> or the repository provided by Halo Dot</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">pullPolicy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Always</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># High availability configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicaCount</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> halo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Logging configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">jsonLogs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Required for log aggregation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">logLevel</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;LogInfo&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Use LogDebug only in non-production</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># The Adaptor will auto-generate this if not provided</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># jwtSigningSecret: &quot;&lt;auto-generated&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Service configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">listeningPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">443</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># TLS Configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tls</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">cert</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      -----BEGIN CERTIFICATE-----</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      &lt;your-tls-certificate&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      -----END CERTIFICATE-----</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      -----BEGIN ENCRYPTED PRIVATE KEY-----</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      &lt;your-tls-key&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      -----END ENCRYPTED PRIVATE KEY-----</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ca</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      -----BEGIN CERTIFICATE-----</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      &lt;your-ca-certificate&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      -----END CERTIFICATE-----</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">passphrase</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;key-passphrase&gt;&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># If key is encrypted</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Health monitoring</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># The readiness probe verifies both service health and A&amp;M server connectivity</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">readinessProbe</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">periodSeconds</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Payment Provider configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">paymentProvider</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">repository</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &lt;Either your repository</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> or the repository provided by Halo Dot</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">pullPolicy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Always</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicaCount</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Config provided by Halo Dot, based on your payment provider</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">listeningPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7000</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#Provided by Halo Dot, based on your payment provider</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Database configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">database</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;your-postgres-host&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5432</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">databaseName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;halodot_adaptor&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">user</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;halodot_user&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;secure-password&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Redis configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">redis</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;your-redis-host&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6379</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">user</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;default&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># or your Redis ACL user</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;redis-password&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># AWS configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">aws</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">region</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;your-aws-region&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">accessKeyId</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;aws-access-key&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">secretAccessKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;aws-secret-key&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Key configuration - Adaptor will auto-create these</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">keys</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">cmk</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;halodot-adaptor-cmk&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Will be created automatically</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">dbEncryptionKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;halo-db-encryption&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">dbIntegrity</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;halo-db-integrity&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">transactionSigning</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;halo-transaction-signing&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Halo Dot A&amp;M service endpoint</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">attestation</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Production endpoint provided during onboarding</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;provided-am-endpoint&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Observability (Recommended)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">openTelemetry</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">metricsEndpoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://otel-collector.monitoring:4317/v1/metrics&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tracesEndpoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://otel-collector.monitoring:4317/v1/traces&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Private registry authentication</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">imageCredentials</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">registry</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;provided-registry&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">username</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;provided-username&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;provided-password&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">email</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ops@yourcompany.com&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-deploy-the-adaptor">Step 4: Deploy the Adaptor<a href="#step-4-deploy-the-adaptor" class="hash-link" aria-label="Direct link to Step 4: Deploy the Adaptor" title="Direct link to Step 4: Deploy the Adaptor">​</a></h3>
<ol>
<li>
<p><strong>Dry run to validate configuration</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm install halodot-adaptor halodot/adaptor \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -f values.yaml \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --namespace halo \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --dry-run --debug</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>Deploy to your cluster</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm install halodot-adaptor halodot/adaptor \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -f values.yaml \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --namespace halo \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --wait \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --timeout 10m</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>Monitor deployment progress</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Watch pod creation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods -n halo -w</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check events for any issues</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get events -n halo --sort-by=&#x27;.lastTimestamp&#x27;</span><br></span></code></pre></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-5-verify-deployment">Step 5: Verify Deployment<a href="#step-5-verify-deployment" class="hash-link" aria-label="Direct link to Step 5: Verify Deployment" title="Direct link to Step 5: Verify Deployment">​</a></h3>
<ol>
<li>
<p><strong>Check pod status</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods -n halo</span><br></span></code></pre></div></div>
<p>All pods should be in <code>Running</code> state with readiness probes passing.</p>
</li>
<li>
<p><strong>Verify automatic secret creation</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Check AWS Secrets Manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws secretsmanager list-secrets --filters Key=name,Values=halo</span><br></span></code></pre></div></div>
<p>You should see the three auto-created secrets.</p>
</li>
<li>
<p><strong>Check KMS key creation</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aws kms list-aliases | grep halodot-adaptor-cmk</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>Verify A&amp;M server connectivity</strong>: The Adaptor&#x27;s readiness probe automatically verifies
connectivity to the Halo Dot A&amp;M server. If pods are in <code>Ready</code> state, the A&amp;M connection is
working correctly.</p>
</li>
<li>
<p><strong>Test health endpoint</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl port-forward -n halo svc/adaptor 8443:443</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># In another terminal:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -k https://localhost:8443/healthz</span><br></span></code></pre></div></div>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="post-installation-configuration">Post-Installation Configuration<a href="#post-installation-configuration" class="hash-link" aria-label="Direct link to Post-Installation Configuration" title="Direct link to Post-Installation Configuration">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="run-the-bootstrapping-job">Run the Bootstrapping Job<a href="#run-the-bootstrapping-job" class="hash-link" aria-label="Direct link to Run the Bootstrapping Job" title="Direct link to Run the Bootstrapping Job">​</a></h3>
<p>Running the boostrapping job is described on the <a href="/docs/documentations/adaptor/bootstrapping">bootstrapping guide</a>.
This will setup the database with the initial config values required for running the adaptor.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="provide-halo-dot-with-your-jwt-issuer-name-and-public-key">Provide Halo Dot with your JWT issuer name and public key<a href="#provide-halo-dot-with-your-jwt-issuer-name-and-public-key" class="hash-link" aria-label="Direct link to Provide Halo Dot with your JWT issuer name and public key" title="Direct link to Provide Halo Dot with your JWT issuer name and public key">​</a></h3>
<p>The Halo Dot A&amp;M server uses the JWTs you issue to authenticate requests from your adaptor deployment.
You will have to provide Halo Dot with your JWT signing public key.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configure-ingress-for-external-access">Configure Ingress for External Access<a href="#configure-ingress-for-external-access" class="hash-link" aria-label="Direct link to Configure Ingress for External Access" title="Direct link to Configure Ingress for External Access">​</a></h3>
<p>Create an ingress resource for SoftPOS devices to reach the Adaptor:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> networking.k8s.io/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Ingress</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> adaptor</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">ingress</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> halo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Adjust based on your ingress controller</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">nginx.ingress.kubernetes.io/ssl-protocols</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;TLSv1.2,TLSv1.3&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">nginx.ingress.kubernetes.io/ssl-ciphers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ECDHE-ECDSA-AES256-GCM-SHA384,ECDHE-RSA-AES256-GCM-SHA384&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">nginx.ingress.kubernetes.io/proxy-body-size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;10m&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">nginx.ingress.kubernetes.io/proxy-read-timeout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;60&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ingressClassName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tls</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">hosts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> softpos</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">api.yourdomain.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> adaptor</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">tls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">rules</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> softpos</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">api.yourdomain.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">http</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">paths</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">pathType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Prefix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">backend</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> adaptor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">number</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">443</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="softpos-integration">SoftPOS Integration<a href="#softpos-integration" class="hash-link" aria-label="Direct link to SoftPOS Integration" title="Direct link to SoftPOS Integration">​</a></h2>
<p>To integrate the HaloDot SDK into your SoftPOS mobile applications, follow the
<a href="/docs/documentations/sdk/sdk-integration-guide">SDK Integration Guide</a>. When configuring the SDK for use
with your Adaptor deployment, you&#x27;ll need to set the following claims:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sdk-jwt-configuration">SDK JWT Configuration<a href="#sdk-jwt-configuration" class="hash-link" aria-label="Direct link to SDK JWT Configuration" title="Direct link to SDK JWT Configuration">​</a></h3>
<p>Configure the JWT claims in your mobile application:</p>
<ul>
<li><strong><code>aud</code> and <code>aud_fingerprint</code></strong>: Point to your Adaptor&#x27;s endpoint (e.g.,
<code>softpos-api.yourdomain.com</code>)</li>
<li><strong><code>x-am-endpoint</code> and <code>x-am-endpoint-fingerprints</code></strong>: Set to the HaloDot A&amp;M service endpoint
provided during onboarding</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="initial-deployment-issues">Initial Deployment Issues<a href="#initial-deployment-issues" class="hash-link" aria-label="Direct link to Initial Deployment Issues" title="Direct link to Initial Deployment Issues">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="adaptor-fails-to-start">Adaptor Fails to Start<a href="#adaptor-fails-to-start" class="hash-link" aria-label="Direct link to Adaptor Fails to Start" title="Direct link to Adaptor Fails to Start">​</a></h4>
<p><strong>Check logs</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl logs -n halo -l app=adaptor --tail=100</span><br></span></code></pre></div></div>
<p><strong>Common issues</strong>:</p>
<ul>
<li><strong>&quot;Failed to create KMS key&quot;</strong>: Check AWS IAM permissions</li>
<li><strong>&quot;Database connection failed&quot;</strong>: Verify PostgreSQL connectivity and credentials</li>
<li><strong>&quot;Redis connection refused&quot;</strong>: Check Redis host and authentication</li>
<li><strong>&quot;Cannot reach A&amp;M service&quot;</strong>: Verify network egress and endpoint URL</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="secret-creation-failures">Secret Creation Failures<a href="#secret-creation-failures" class="hash-link" aria-label="Direct link to Secret Creation Failures" title="Direct link to Secret Creation Failures">​</a></h4>
<p><strong>Verify AWS credentials</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl exec -n halo deploy/adaptor -- aws sts get-caller-identity</span><br></span></code></pre></div></div>
<p><strong>Check KMS key creation</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl exec -n halo deploy/adaptor -- aws kms describe-key --key-id alias/halodot-adaptor-cmk</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="readiness-probe-failures">Readiness Probe Failures<a href="#readiness-probe-failures" class="hash-link" aria-label="Direct link to Readiness Probe Failures" title="Direct link to Readiness Probe Failures">​</a></h4>
<p><strong>Symptom</strong>: Pods remain in <code>Not Ready</code> state</p>
<p><strong>Check</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl logs -n halo -l app=adaptor | grep -i health</span><br></span></code></pre></div></div>
<p><strong>Common causes</strong>:</p>
<ul>
<li>Cannot reach A&amp;M server (most common)</li>
<li>Incorrect A&amp;M endpoint URL</li>
<li>Network policy blocking egress to A&amp;M service</li>
</ul>
<p><strong>Verify A&amp;M connectivity specifically</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Check if the configured A&amp;M endpoint is reachable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl exec -n halo deploy/adaptor -- nslookup &lt;am-endpoint-domain&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl exec -n halo deploy/adaptor -- curl -v &lt;am-endpoint&gt;/healthz</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="maintenance">Maintenance<a href="#maintenance" class="hash-link" aria-label="Direct link to Maintenance" title="Direct link to Maintenance">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="upgrade-process">Upgrade Process<a href="#upgrade-process" class="hash-link" aria-label="Direct link to Upgrade Process" title="Direct link to Upgrade Process">​</a></h3>
<ol>
<li>
<p><strong>Check for updates</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm repo update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm search repo halodot/adaptor --versions</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>Review changelog</strong> and update <code>values.yaml</code> if needed</p>
</li>
<li>
<p><strong>Perform rolling upgrade</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm upgrade halodot-adaptor halodot/adaptor \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -f values.yaml \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --namespace halo \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --wait</span><br></span></code></pre></div></div>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="support">Support<a href="#support" class="hash-link" aria-label="Direct link to Support" title="Direct link to Support">​</a></h2>
<p>For support:</p>
<ol>
<li>
<p>Collect diagnostic information:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get all -n halo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl describe pods -n halo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl logs -n halo --tail=1000 &gt; halo-logs.txt</span><br></span></code></pre></div></div>
</li>
<li>
<p>Include:</p>
<ul>
<li>Helm values (sanitized)</li>
<li>Error messages</li>
<li>Transaction IDs for specific issues</li>
</ul>
</li>
<li>
<p>Contact Halo Dot support with your issuer name and diagnostic bundle</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="helm-values">Helm values<a href="#helm-values" class="hash-link" aria-label="Direct link to Helm values" title="Direct link to Helm values">​</a></h2>
<p>The following table lists the configurable parameters and their default values.</p>
<table><thead><tr><th>Key</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>adaptor.image.pullPolicy</td><td><code>&quot;Always&quot;</code></td><td></td></tr><tr><td>adaptor.image.repository</td><td><code>nil</code></td><td>Image repository for the adaptor image, required</td></tr><tr><td>adaptor.image.tag</td><td><code>nil</code></td><td>Tag for the adaptor image, this overrides the version setting</td></tr><tr><td>adaptor.jsonLogs</td><td><code>true</code></td><td>JSON formatted logs, should be set to true when using logging tooling such as Grafana Loki or ELK. Can be useful to turn off when testing locally</td></tr><tr><td>adaptor.jwtSigningSecret</td><td><code>nil</code></td><td>HS256 Secret used for issuing tokens for admin users, if not set a random value will be generated</td></tr><tr><td>adaptor.logLevel</td><td><code>&quot;LogInfo&quot;</code></td><td>Logging level for the adaptor. Choices are LogDebug, LogInfo, LogWarn and LogError LogDebug provides full logging, including requests, responses and all card details LogInfo provides some logging, useful for investigating the state of the system without leaking card data Should be set to LogInfo in production and LogDebug in nonprod</td></tr><tr><td>adaptor.name</td><td><code>&quot;adaptor&quot;</code></td><td>Name of the adaptor deployment and service</td></tr><tr><td>adaptor.namespace</td><td><code>&quot;halo&quot;</code></td><td>K8s namespace to deploy the adaptor into</td></tr><tr><td>adaptor.readinessProbe</td><td><code>{&quot;enabled&quot;:true,&quot;periodSeconds&quot;:30}</code></td><td>Readiness probe settings for adaptor, the adaptor readiness probe checks that the service is up,  as well as checking that the A&amp;M server is up and reachable</td></tr><tr><td>adaptor.readinessProbe.enabled</td><td><code>true</code></td><td>Enable the readiness probe, you might want to disable this if you are testing without  access to the A&amp;M server</td></tr><tr><td>adaptor.readinessProbe.periodSeconds</td><td><code>30</code></td><td>How often to run the readiness probe</td></tr><tr><td>adaptor.replicaCount</td><td><code>1</code></td><td>Replica count of the adaptor, you should probably set this to your at least your node count</td></tr><tr><td>adaptor.resources</td><td><code>{&quot;limits&quot;:{&quot;cpu&quot;:&quot;500m&quot;,&quot;memory&quot;:&quot;1G&quot;},&quot;requests&quot;:{&quot;cpu&quot;:&quot;100m&quot;,&quot;memory&quot;:&quot;1G&quot;}}</code></td><td>Resource limits and requests, these values can be tuned based on your volumes, it is recommended to set memory limits and requests to the same value</td></tr><tr><td>adaptor.service.listeningPort</td><td><code>80</code></td><td>Port that the adaptor service exposes, if HTTPS is enabled, this should be set to 443</td></tr><tr><td>adaptor.service.targetPort</td><td><code>9000</code></td><td>Port the adaptor listens on</td></tr><tr><td>adaptor.tls.ca</td><td><code>&quot;-----BEGIN CERTIFICATE-----\nca data\n-----END CERTIFICATE-----\n&quot;</code></td><td>The TLS server CA</td></tr><tr><td>adaptor.tls.cert</td><td><code>&quot;-----BEGIN CERTIFICATE-----\ncert data\n-----END CERTIFICATE-----\n&quot;</code></td><td>The TLS server certificate</td></tr><tr><td>adaptor.tls.enabled</td><td><code>false</code></td><td>Whether to enable TLS on the adaptor</td></tr><tr><td>adaptor.tls.key</td><td><code>&quot;-----BEGIN ENCRYPTED PRIVATE KEY-----\nkey data\n-----END ENCRYPTED PRIVATE KEY-----\n&quot;</code></td><td>The TLS server key, sensitive</td></tr><tr><td>adaptor.tls.passphrase</td><td><code>nil</code></td><td>Optional passphrase for encrypting the TLS key, sensitive</td></tr><tr><td>attestation.host</td><td><code>&quot;https://kernelserver.qa.haloplus.io&quot;</code></td><td>Remote attestation hostname, for non prod you can use the QA endpoint set here, for production you will be provided with a URL specifically for you, required</td></tr><tr><td>aws.accessKeyId</td><td><code>nil</code></td><td>Access key ID for your AWS IAM user, required</td></tr><tr><td>aws.region</td><td><code>&quot;us-west-2&quot;</code></td><td>AWS region, required</td></tr><tr><td>aws.secretAccessKey</td><td><code>nil</code></td><td>Secret access key for your AWS IAM user, required and sensitive</td></tr><tr><td>database.databaseName</td><td><code>nil</code></td><td>PostgreSQL database name, required</td></tr><tr><td>database.host</td><td><code>nil</code></td><td>PostgreSQL database hostname, required</td></tr><tr><td>database.password</td><td><code>nil</code></td><td>PostgreSQL database password, required and sensitive</td></tr><tr><td>database.port</td><td><code>5432</code></td><td>PostgreSQL database port</td></tr><tr><td>database.user</td><td><code>nil</code></td><td>PostgreSQL database user, required</td></tr><tr><td>imageCredentials.email</td><td><code>&quot;someone@host.com&quot;</code></td><td>Sets the email address for logging into the private registry</td></tr><tr><td>imageCredentials.enabled</td><td><code>false</code></td><td>Enables using private registries with authentication</td></tr><tr><td>imageCredentials.password</td><td><code>&quot;sillyness&quot;</code></td><td>Sets the password for logging into the private registry, sensitive</td></tr><tr><td>imageCredentials.registry</td><td><code>&quot;quay.io&quot;</code></td><td>Sets the URL for the private registry to login to</td></tr><tr><td>imageCredentials.username</td><td><code>&quot;someone&quot;</code></td><td>Sets the username for logging into the private registry</td></tr><tr><td>keys.cmk</td><td><code>&quot;haloCmk&quot;</code></td><td>KMS CMK used to encrypt the Secrets manager secrets</td></tr><tr><td>keys.dbEncryptionKey</td><td><code>&quot;haloDbEncryption&quot;</code></td><td>Secrets manager secret name for DB encryption secret</td></tr><tr><td>keys.dbIntegrity</td><td><code>&quot;haloDbIntegrity&quot;</code></td><td>Secrets manager secret name for DB integrity secret</td></tr><tr><td>keys.transactionSigning</td><td><code>&quot;haloTransactionSigning&quot;</code></td><td>Secrets manager secret name for transaction signing secret</td></tr><tr><td>openTelemetry.metricsEndpoint</td><td><code>&quot;http://otel-collector:4317/v1/metrics&quot;</code></td><td>Opentelemetry metrics endpoint</td></tr><tr><td>openTelemetry.tracesEndpoint</td><td><code>&quot;http://otel-collector:4317/v1/traces&quot;</code></td><td>Opentelemetry traces endpoint</td></tr><tr><td>paymentProvider.config</td><td><code>nil</code></td><td>Config for the paymentprovider, this is specific per payment provider and will be provided, required</td></tr><tr><td>paymentProvider.image.pullPolicy</td><td><code>&quot;Always&quot;</code></td><td></td></tr><tr><td>paymentProvider.image.repository</td><td><code>nil</code></td><td>Image repository for the paymentprovider image</td></tr><tr><td>paymentProvider.image.tag</td><td><code>nil</code></td><td>Tag for the paymentprovider image, this overrides the version setting</td></tr><tr><td>paymentProvider.name</td><td><code>&quot;paymentprovider&quot;</code></td><td>Name of the paymentprovider deployment and service</td></tr><tr><td>paymentProvider.readinessProbe.enabled</td><td><code>true</code></td><td>Enables the readiness probe for the payment provider</td></tr><tr><td>paymentProvider.readinessProbe.periodSeconds</td><td><code>30</code></td><td>The frequency of readiness probes</td></tr><tr><td>paymentProvider.replicaCount</td><td><code>1</code></td><td>Replica count of the payment provider, should probably be set to at least node count</td></tr><tr><td>paymentProvider.resources</td><td><code>{&quot;limits&quot;:{&quot;cpu&quot;:&quot;500m&quot;,&quot;memory&quot;:&quot;256Mi&quot;},&quot;requests&quot;:{&quot;cpu&quot;:&quot;100m&quot;,&quot;memory&quot;:&quot;256Mi&quot;}}</code></td><td>Resource limits and requests, these values can be tuned based on your volumes, it is recommended to set memory limits and requests to the same value</td></tr><tr><td>paymentProvider.service.listeningPort</td><td><code>80</code></td><td>kThe port the paymentprovider service exposes</td></tr><tr><td>paymentProvider.service.targetPort</td><td><code>nil</code></td><td>The port the paymentprovider listens on, this will be provided along with the config for the paymentprovider</td></tr><tr><td>redis</td><td><code>{&quot;host&quot;:null,&quot;password&quot;:null,&quot;port&quot;:6379,&quot;user&quot;:&quot;redis&quot;}</code></td><td>Connection information for Redis</td></tr><tr><td>redis.host</td><td><code>nil</code></td><td>Redis hostname, if Redis is deployed in cluster using  the Redis helm chart this should be set to redis-master.default.svc.cluster.local, required</td></tr><tr><td>redis.password</td><td><code>nil</code></td><td>Redis password, required and sensitive</td></tr><tr><td>redis.port</td><td><code>6379</code></td><td>Redis port</td></tr><tr><td>redis.user</td><td><code>&quot;redis&quot;</code></td><td>Redis user</td></tr><tr><td>scheduledJobs.voids</td><td><code>{&quot;cron&quot;:&quot;*/30 * * * *&quot;,&quot;enabled&quot;:true,&quot;maxRetries&quot;:10,&quot;runAtStartup&quot;:false}</code></td><td>Job for voiding failed transaction</td></tr><tr><td>scheduledJobs.voids.cron</td><td><code>&quot;*/30 * * * *&quot;</code></td><td>How often the void job should run</td></tr><tr><td>scheduledJobs.voids.enabled</td><td><code>true</code></td><td>Sets whether voiding failed transactions should run</td></tr><tr><td>scheduledJobs.voids.maxRetries</td><td><code>10</code></td><td>How often many times a failed transaction should try be voided before giving up</td></tr><tr><td>scheduledJobs.voids.runAtStartup</td><td><code>false</code></td><td>Whether the void job should run when the adaptor starts up</td></tr><tr><td>version</td><td><code>&quot;latest&quot;</code></td><td>Container image tag for adaptor and payment provider, required</td></tr></tbody></table></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/documentations/adaptor/quickstart"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Quick start</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/documentations/adaptor/bootstrapping"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Halo Dot Adaptor Bootstrapping Guide</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#architecture-overview" class="table-of-contents__link toc-highlight">Architecture Overview</a><ul><li><a href="#component-responsibilities" class="table-of-contents__link toc-highlight">Component Responsibilities</a></li></ul></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a><ul><li><a href="#infrastructure-requirements" class="table-of-contents__link toc-highlight">Infrastructure Requirements</a></li><li><a href="#aws-requirements" class="table-of-contents__link toc-highlight">AWS Requirements</a></li><li><a href="#network-requirements" class="table-of-contents__link toc-highlight">Network Requirements</a></li><li><a href="#access-requirements" class="table-of-contents__link toc-highlight">Access Requirements</a></li></ul></li><li><a href="#installation-steps" class="table-of-contents__link toc-highlight">Installation Steps</a><ul><li><a href="#step-1-configure-database-and-redis" class="table-of-contents__link toc-highlight">Step 1: Configure Database and Redis</a></li><li><a href="#step-2-add-helm-repository" class="table-of-contents__link toc-highlight">Step 2: Add Helm Repository</a></li><li><a href="#step-3-create-values-configuration" class="table-of-contents__link toc-highlight">Step 3: Create Values Configuration</a></li><li><a href="#step-4-deploy-the-adaptor" class="table-of-contents__link toc-highlight">Step 4: Deploy the Adaptor</a></li><li><a href="#step-5-verify-deployment" class="table-of-contents__link toc-highlight">Step 5: Verify Deployment</a></li></ul></li><li><a href="#post-installation-configuration" class="table-of-contents__link toc-highlight">Post-Installation Configuration</a><ul><li><a href="#run-the-bootstrapping-job" class="table-of-contents__link toc-highlight">Run the Bootstrapping Job</a></li><li><a href="#provide-halo-dot-with-your-jwt-issuer-name-and-public-key" class="table-of-contents__link toc-highlight">Provide Halo Dot with your JWT issuer name and public key</a></li><li><a href="#configure-ingress-for-external-access" class="table-of-contents__link toc-highlight">Configure Ingress for External Access</a></li></ul></li><li><a href="#softpos-integration" class="table-of-contents__link toc-highlight">SoftPOS Integration</a><ul><li><a href="#sdk-jwt-configuration" class="table-of-contents__link toc-highlight">SDK JWT Configuration</a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#initial-deployment-issues" class="table-of-contents__link toc-highlight">Initial Deployment Issues</a></li></ul></li><li><a href="#maintenance" class="table-of-contents__link toc-highlight">Maintenance</a><ul><li><a href="#upgrade-process" class="table-of-contents__link toc-highlight">Upgrade Process</a></li></ul></li><li><a href="#support" class="table-of-contents__link toc-highlight">Support</a></li><li><a href="#helm-values" class="table-of-contents__link toc-highlight">Helm values</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://halodot.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Halodot.io<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.synthesis.co.za/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Synthesis<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/halo-dot/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/halo-dot/test_app-android_sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Halodot.io.</div></div></div></footer></div>
</body>
</html>