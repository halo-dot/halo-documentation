<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-2.1 docs-doc-page docs-doc-id-documentations/security-guidance/security-architecture" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Security Architecture | Halodot.io</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://cdn.prod.website-files.com/63f8ad30f40a41f7b046d567/67ac8d81adc0bbd4b1e9e0dc_Image.png"><meta data-rh="true" name="twitter:image" content="https://cdn.prod.website-files.com/63f8ad30f40a41f7b046d567/67ac8d81adc0bbd4b1e9e0dc_Image.png"><meta data-rh="true" property="og:url" content="http://docs.halodot.io/docs/versioned_docs/version-2.1/documentations/security-guidance/security-architecture"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="algolia-site-verification" content="EC2FE34B58BA9FB0"><meta data-rh="true" name="docusaurus_version" content="2.1"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.1"><meta data-rh="true" name="docsearch:version" content="2.1"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.1"><meta data-rh="true" property="og:title" content="Security Architecture | Halodot.io"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/favicon-32x32.png"><link data-rh="true" rel="canonical" href="http://docs.halodot.io/docs/versioned_docs/version-2.1/documentations/security-guidance/security-architecture"><link data-rh="true" rel="alternate" href="http://docs.halodot.io/docs/versioned_docs/version-2.1/documentations/security-guidance/security-architecture" hreflang="en"><link data-rh="true" rel="alternate" href="http://docs.halodot.io/docs/versioned_docs/version-2.1/documentations/security-guidance/security-architecture" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://S2W3MQE857-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Security guidance","item":"http://docs.halodot.io/docs/versioned_docs/version-2.1/documentations/security-guidance/"},{"@type":"ListItem","position":2,"name":"Security Architecture","item":"http://docs.halodot.io/docs/versioned_docs/version-2.1/documentations/security-guidance/security-architecture"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Halodot.io RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Halodot.io Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="Halodot.io" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.e57b2d57.css">
<script src="/assets/js/runtime~main.e7703113.js" defer="defer"></script>
<script src="/assets/js/main.2ec7bdd6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="https://cdn.prod.website-files.com/63f8ad30f40a41f7b046d567/63fdb37c730d1f0e75df5d44_Logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="https://cdn.prod.website-files.com/63f8ad30f40a41f7b046d567/63fdb37c730d1f0e75df5d44_Logo.svg" alt="halo dot Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="https://cdn.prod.website-files.com/63f8ad30f40a41f7b046d567/63fdb37c730d1f0e75df5d44_Logo.svg" alt="halo dot Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/versioned_docs/version-2.1/documentations/intro">Documentation</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/versioned_docs/version-2.1/documentations/security-guidance/security-architecture">2.1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/documentations/security-guidance/security-architecture">4.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/versioned_docs/version-2.1/documentations/security-guidance/security-architecture">2.1</a></li></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/halo-dot/test_app-android_sdk" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/versioned_docs/version-2.1/documentations/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/versioned_docs/version-2.1/category/intents">Intents</a><button aria-label="Expand sidebar category &#x27;Intents&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/versioned_docs/version-2.1/category/sdk-integration-guide">SDK Integration Guide</a><button aria-label="Expand sidebar category &#x27;SDK Integration Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/versioned_docs/version-2.1/category/api-docs">API Docs</a><button aria-label="Expand sidebar category &#x27;API Docs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/versioned_docs/version-2.1/category/tap-on-own-device">Tap on own device</a><button aria-label="Expand sidebar category &#x27;Tap on own device&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/versioned_docs/version-2.1/documentations/security-guidance">Security guidance</a><button aria-label="Collapse sidebar category &#x27;Security guidance&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/versioned_docs/version-2.1/documentations/security-guidance/security-architecture">Security Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/versioned_docs/version-2.1/documentations/security-guidance/key-management">Key Management</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/versioned_docs/version-2.1/category/the-adaptor">The Adaptor</a><button aria-label="Expand sidebar category &#x27;The Adaptor&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/versioned_docs/version-2.1/documentations/security-guidance"><span>Security guidance</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Security Architecture</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 2.1</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Security Architecture</h1></header>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-">Introduction <a href="#introduction" id="introduction"></a><a href="#introduction-" class="hash-link" aria-label="Direct link to introduction-" title="Direct link to introduction-">​</a></h3>
<p>The Halo Dot SDK provides a simple interface for integrators to start accepting contactlesss payments in their applications. However, processing card data brings with it a host of security concerns. This document will describe the sensitive assets that cross the boundary from the SDK to the application (and vice versa) to help explain what is required from an application perspective. Additionally, this document will describe the various security mechanisms that are used and how these interact with the integrating application. Finally, this document will list the permissions required by the SDK and provide explanations for why they are necessary.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sensitive-assets-">Sensitive Assets <a href="#sensitive-assets" id="sensitive-assets"></a><a href="#sensitive-assets-" class="hash-link" aria-label="Direct link to sensitive-assets-" title="Direct link to sensitive-assets-">​</a></h3>
<p>This section describes the sensitive assets that cross the boundary of the SDK. This refers to any pieces of information that are either directly or indirectly used in the processing of financial data. This includes authentication tokens, certificates and keys and card data. In the table below, the direction column refers to the direction that the assets flow. There are 3 entities mentioned:</p>
<ul>
<li><strong>Application</strong>: This is the integrating application that is calling methods in the Halo Dot SDK.</li>
<li><strong>SDK</strong>: This is the Halo Dot SDK</li>
<li><strong>Backend</strong>: This is the Halo Dot transactional server</li>
</ul>
<table><thead><tr><th>Asset</th><th>Direction</th><th>Explanation</th><th>Required Protection</th></tr></thead><tbody><tr><td>JWT</td><td>Application → SDK</td><td>The JWT is required by all SDK functions, and must be provided by the integrating application</td><td>This is documented in the <a href="/docs/documentations/security-guidance/key-management">key management</a> document</td></tr><tr><td>Phone keys</td><td>SDK → Backend</td><td>The SDK performs a key exchange with the Halo Dot servers to establish shared keys that can be used for encryption and signing of messages at application level</td><td>None; this is protected by Halo Dot</td></tr><tr><td>Server keys</td><td>Backend → SDK</td><td>The Halo Dot servers respond with server keys that are used for encrypting and signing messages. A cache of keys is stored on the device, protected by the Halo Dot SDK</td><td>None; this is protected by Halo Dot</td></tr><tr><td>Terminal config</td><td>Backend → SDK</td><td>The Halo Dot servers respond with the terminal config to intialise the terminal. This determines what card types are supported, what the CVM limits are, whether ot not PIN is supportedf and any other terminal configuration properties</td><td>None; this is protected by Halo Dot</td></tr><tr><td>IPEK</td><td>Backend → SDK</td><td>The Initial Pin Encryption Key is generated by an HSM and is used to initialise the DUKPT state on the device. This is required to process PIN transactions securely.</td><td>None; this is protected by Halo Dot</td></tr><tr><td>Entropy</td><td>Backend → SDK</td><td>Entropy is sourced from the Halo Dot servers to seed the DRNG on the phone</td><td>None; this is protected by Halo Dot</td></tr><tr><td>Transaction Data</td><td>SDK → Backend</td><td>This is the card data that is required to authorise the transaction.</td><td>None; this is protected by Halo Dot</td></tr><tr><td>Encrypted PIN Block</td><td>SDK → Backend</td><td>The client PIN that is captured if required. Encrypted using DUKPT and signed by the SDK, validated on the backend</td><td>None; this is protected by Halo Dot</td></tr><tr><td>Transaction Result</td><td>SDK → Application</td><td>The result of the transaction is returned to the integrating application. This includes the transaction disposition, masked PAN and transaction IDs.</td><td>The transaction result is returned with a signature - the signing key will be shared out of band. Please verify the signature to ensure that the result has not been tampered with.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="protection-mechanisms-">Protection mechanisms <a href="#protection-mechanisms" id="protection-mechanisms"></a><a href="#protection-mechanisms-" class="hash-link" aria-label="Direct link to protection-mechanisms-" title="Direct link to protection-mechanisms-">​</a></h3>
<p>To protected the integrity of the application and ensure that financial data is securely read and transmitted, the Halo Dot SDK makes use of a number of protection mechanisms. These range from static protections (to protect against reverse engineering and code analysis) to run-time protection (to protect against instrumentation and malicious access). Any errors that occur as a result of these mechanisms are reported either the <code>HaloStartTransactionResult</code>, <code>HaloTransactionResult</code> and<code>HaloInitializationResult</code> objects.</p>
<ul>
<li><strong>Static code protection (obfuscation)</strong><br>
<!-- -->The SDK is minified using R8 and then obfuscated using Zimperium zShield. The Kotlin code is transpiled to C++ and then obfuscated to prevent static code analysis. There is no requirement from the integrating app to handle this, but be aware that debugging the Halo Dot source code will not produce usable source files for internal functions.</li>
<li><strong>Run time integrity protections</strong><br>
<!-- -->The SDK performs various checks at run time to ensure the integrity of the platform. This includes checking if the device is rooted, if a debugger is attached or if an instrumentation framework is being used. If any of these are detected, the application immediately terminates.<!-- -->
<ul>
<li>Root checks<br>
<!-- -->Rooted devices have full access to the memory and services running on them, and so they cannot be trusted to perform financial transactions.</li>
<li>Instrumentation checks<br>
<!-- -->Instrumentation frameworks (such as Frida) are used to manipulate running applications by hooking into function calls and replcaing their implementations. This allows the user to potentially bypass security checks, exfiltrate card data or make the app think that a transaction has been approved when it has actually been declined, or vice versa.</li>
<li>Debugger checks<br>
<!-- -->Debuggers can be used to inspect memory and alter application flows, and so they can not be allowed on a running payment application. With Android, it is possible to debug a device remotely, and so we must terminate the application if we detect the presence of a debugger.</li>
</ul>
</li>
<li><strong>Developer option checks</strong><br>
<!-- -->If developer options are enabled, it is possible to attach <code>adb</code> to the device, which can be used to extract information or view the screen remotely (since <code>adb</code> can be attached over wi-fi). Thus, the SDK does not allow developer options to be enabled on the release build. The debug build allows developer options as normal.</li>
<li><strong>Accessibility service checks</strong><br>
<!-- -->Accessibility services are capable of scraping screen elements and processing them to enable screen reading or other accessibility functions. Unfortunately, this presents a security vulnerability for the PIN screen, as a malicious accessibility service would be capable of capturing PIN numbers. Thus, the release Halo Dot SDK does not allow the PIN screen to be displayed if accessibility services are enabled. A warning will be returned during initialisation if accessibility services are detected, and an error will be returned during transaction processing if a PIN is required.</li>
<li><strong>Overlay detection</strong><br>
<!-- -->The SDK does not allow overlays to be displayed over the PIN screen. This is to prevent a class of attack where transparent overlays can capture PIN numbers without the user&#x27;s notice.</li>
<li><strong>Attestation</strong><br>
<!-- -->Attestation is the process of verifying the claims that the device makes about itself. Halo Dot uses attestation to ensure that the device has not been compromised and that the application that is running the SDK has not altered. Any attestation failures will result in exceptions being raised and the SDK will fail to initialise and transact. In most cases, these will be returned through the <code>HaloInitializationResult</code> and <code>HaloTransactionResult</code> objects. However, due to attestations that occur in the background, attestation errors can also be reported using the <code>onAttestationError</code> callback.<!-- -->
<ul>
<li>Play Integrity<br>
<!-- -->Google services are used to determine if the application has been tampered with and if the device profile is known to Google.</li>
<li>Whitebox attestation<br>
<!-- -->A custom attestation process is used to verify the integrity of the Whitebox to ensure that PINs can be securely captured.</li>
<li>Key attestation<br>
<!-- -->Android key attestation is used to check if the bootloader has been unlocked and to verify the signature on the application.</li>
</ul>
</li>
<li><strong>Certificate pinning</strong><br>
<!-- -->The SDK uses certificate pinning to protect against man in the middle attacks and to prevent malicious CA&#x27;s from being used to bypass legitimate Halo Dot servers. The certificate PIN is provided in the JWT that the SDK uses and contains the SHA256 hash of the public key of the server certificate. Since the JWT is provided by the integrating application, it is vitally important to protect the integrity of the JWT. Please see the key management section for guidance on protecting the JWT signing keys.</li>
<li><strong>Encryption and signing of messages to and from the server</strong><br>
<!-- -->In addition to using TLS 1.2+, all messages between the SDK to the backend server are signed and encrypted at application level. During initial device registration, key exchanges are performed to allow secure communcation. If either the server or SDK fails to validate the signature of a message, an exception is raised and the operation is aborted.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="permissions-required-">Permissions required <a href="#permissions-required" id="permissions-required"></a><a href="#permissions-required-" class="hash-link" aria-label="Direct link to permissions-required-" title="Direct link to permissions-required-">​</a></h3>
<p>The Halo Dot SDK requires a number of permissions to function. Some of these permissions require user intervention, so integrators are required to ask for these permissions before attempting to initialise the SDK. The permissions that require user intervention are:</p>
<ul>
<li><strong>Bluetooth</strong><br>
<!-- -->This permission is required to determine if any devices are connected to the mobile device. This is an attestation requirement to determine if any known malicious devices are connected.</li>
<li><strong>Microphone</strong><br>
<!-- -->The microphone must be monitored to prevent side channel attacks and to prevent malicious applications from capturing sensitive card holder information. The SDK does not do anything with the microphone other than prevent other apps from using it.</li>
<li><strong>Location</strong><br>
<!-- -->Each transaction that is submitted contains the GPS co-ordinates of the device. This is to help detect fraud.</li>
<li><strong>Camera</strong><br>
<!-- -->The camera must be held to prevent malicious applications from capturing card details while it is being tapped on the phone. The SDK does not do anything with the camera other than prevent other applications from using it.</li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/versioned_docs/version-2.1/documentations/security-guidance"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Security Guidance</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/versioned_docs/version-2.1/documentations/security-guidance/key-management"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Key Management</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction-" class="table-of-contents__link toc-highlight">Introduction <a></a></a></li><li><a href="#sensitive-assets-" class="table-of-contents__link toc-highlight">Sensitive Assets <a></a></a></li><li><a href="#protection-mechanisms-" class="table-of-contents__link toc-highlight">Protection mechanisms <a></a></a></li><li><a href="#permissions-required-" class="table-of-contents__link toc-highlight">Permissions required <a></a></a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://halodot.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Halodot.io<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.synthesis.co.za/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Synthesis<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/halo-dot/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/halo-dot/test_app-android_sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Halodot.io.</div></div></div></footer></div>
</body>
</html>