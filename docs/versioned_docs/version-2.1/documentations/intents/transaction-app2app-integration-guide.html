<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-2.1 docs-doc-page docs-doc-id-documentations/intents/transaction-app2app-integration-guide" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Transaction App to App Integration Guide | Halodot.io</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://cdn.prod.website-files.com/63f8ad30f40a41f7b046d567/67ac8d81adc0bbd4b1e9e0dc_Image.png"><meta data-rh="true" name="twitter:image" content="https://cdn.prod.website-files.com/63f8ad30f40a41f7b046d567/67ac8d81adc0bbd4b1e9e0dc_Image.png"><meta data-rh="true" property="og:url" content="http://docs.halodot.io/docs/versioned_docs/version-2.1/documentations/intents/transaction-app2app-integration-guide"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="algolia-site-verification" content="EC2FE34B58BA9FB0"><meta data-rh="true" name="docusaurus_version" content="2.1"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.1"><meta data-rh="true" name="docsearch:version" content="2.1"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.1"><meta data-rh="true" property="og:title" content="Transaction App to App Integration Guide | Halodot.io"><meta data-rh="true" name="description" content="Integration with Halo.Go application for Transactions using Android Intent"><meta data-rh="true" property="og:description" content="Integration with Halo.Go application for Transactions using Android Intent"><link data-rh="true" rel="icon" href="/img/favicon-32x32.png"><link data-rh="true" rel="canonical" href="http://docs.halodot.io/docs/versioned_docs/version-2.1/documentations/intents/transaction-app2app-integration-guide"><link data-rh="true" rel="alternate" href="http://docs.halodot.io/docs/versioned_docs/version-2.1/documentations/intents/transaction-app2app-integration-guide" hreflang="en"><link data-rh="true" rel="alternate" href="http://docs.halodot.io/docs/versioned_docs/version-2.1/documentations/intents/transaction-app2app-integration-guide" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://S2W3MQE857-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Intents","item":"http://docs.halodot.io/docs/versioned_docs/version-2.1/category/intents"},{"@type":"ListItem","position":2,"name":"Transaction App to App Integration Guide","item":"http://docs.halodot.io/docs/versioned_docs/version-2.1/documentations/intents/transaction-app2app-integration-guide"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Halodot.io RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Halodot.io Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="Halodot.io" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.e57b2d57.css">
<script src="/assets/js/runtime~main.e7703113.js" defer="defer"></script>
<script src="/assets/js/main.2ec7bdd6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="https://cdn.prod.website-files.com/63f8ad30f40a41f7b046d567/63fdb37c730d1f0e75df5d44_Logo.svg"><link rel="preload" as="image" href="/img/intent-transitioning.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="https://cdn.prod.website-files.com/63f8ad30f40a41f7b046d567/63fdb37c730d1f0e75df5d44_Logo.svg" alt="halo dot Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="https://cdn.prod.website-files.com/63f8ad30f40a41f7b046d567/63fdb37c730d1f0e75df5d44_Logo.svg" alt="halo dot Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/versioned_docs/version-2.1/documentations/intro">Documentation</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/versioned_docs/version-2.1/documentations/intents/transaction-app2app-integration-guide">2.1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/documentations/intents/transaction-app2app-integration-guide">4.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/versioned_docs/version-2.1/documentations/intents/transaction-app2app-integration-guide">2.1</a></li></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/halo-dot/test_app-android_sdk" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/versioned_docs/version-2.1/documentations/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/versioned_docs/version-2.1/category/intents">Intents</a><button aria-label="Collapse sidebar category &#x27;Intents&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/versioned_docs/version-2.1/documentations/intents/getting-started">Getting Started with Intents</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/versioned_docs/version-2.1/documentations/intents/transaction-app2app-integration-guide">Transaction App to App Integration Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/versioned_docs/version-2.1/documentations/intents/tt3-app2app-integration-guide">TT3 App to App Integration Guide</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/versioned_docs/version-2.1/category/sdk-integration-guide">SDK Integration Guide</a><button aria-label="Expand sidebar category &#x27;SDK Integration Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/versioned_docs/version-2.1/category/api-docs">API Docs</a><button aria-label="Expand sidebar category &#x27;API Docs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/versioned_docs/version-2.1/category/tap-on-own-device">Tap on own device</a><button aria-label="Expand sidebar category &#x27;Tap on own device&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/versioned_docs/version-2.1/documentations/security-guidance">Security guidance</a><button aria-label="Expand sidebar category &#x27;Security guidance&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/versioned_docs/version-2.1/category/the-adaptor">The Adaptor</a><button aria-label="Expand sidebar category &#x27;The Adaptor&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/versioned_docs/version-2.1/category/intents"><span>Intents</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Transaction App to App Integration Guide</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 2.1</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Transaction App to App Integration Guide</h1></header>
<p>Integration with Halo.Go application for Transactions using Android Intent
Mechanisms or Deeplinking.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-architecture">1. Architecture<a href="#1-architecture" class="hash-link" aria-label="Direct link to 1. Architecture" title="Direct link to 1. Architecture">​</a></h2>
<p>To initiate a transaction, we recommend that the customer app initiate a call between itself and the customer backend first for it to create an intent transaction request by calling the Halo backend using the transaction&#x27;s details. This information is then stored in the Halo backend, allowing the Halo app to fetch it. Otherwise, if the customer wishes to reduce the number of endpoint calls, they can pass through all the transaction details in the intent call itself - this is not available with deeplinking. The process is as follows:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="approach-11-merchant-id-configurable-transaction">Approach 1.1: Merchant Id Configurable Transaction<a href="#approach-11-merchant-id-configurable-transaction" class="hash-link" aria-label="Direct link to Approach 1.1: Merchant Id Configurable Transaction" title="Direct link to Approach 1.1: Merchant Id Configurable Transaction">​</a></h3>
<blockquote>
<p>Note: We recommend this approach as it allows the customer to store the Halo backend api key and merchant id in their backend instead of baking it into the customer app. This is also useful for customers that have multiple merchant accounts that can receive a transaction request.</p>
</blockquote>
<ol>
<li>Customer app creates a request to the customer backend to create an intent transaction through a call to the Halo backend.</li>
<li>The customer backend will send these consumer transaction details received from the customer app and config in the customer backend:</li>
</ol>
<ul>
<li>unique transaction reference</li>
<li>currency code</li>
<li>transaction amount</li>
<li>merchant id (retrieved from the Halo <a href="https://go.merchantportal.prod.haloplus.io/" target="_blank" rel="noopener noreferrer">Merchant Portal</a>)</li>
<li>timestamp</li>
</ul>
<ol start="3">
<li>The Halo backend receives the request and stores the transaction data.</li>
<li>The Halo backend creates a consumer transaction ID along with a signed transaction token (JWT) and responds by sending these two items back to the customer backend.</li>
<li>The customer backend returns the consumer transaction ID and the transaction token (JWT) to the customer app.</li>
<li>The consumer transaction ID and transaction token (JWT) are sent through an intent call made to the Halo.Go/Halo.Link app.</li>
<li>The customer app waits for the Halo.Go/Halo.Link app to return control back to the customer app with a success or error code.</li>
</ol>
<figure><img src="/img/intent-transitioning.png" alt=""></figure>
<p>Once the consumer transaction ID and the JWT are received by the Halo.Go/Halo.Link app, the following takes place:</p>
<ol>
<li>The app will validate the JWT and the consumer transaction ID.</li>
<li>The app will then request transaction details from the Halo backend using the consumer transaction ID as a reference and the JWT as auth.</li>
<li>The Halo backend will return the transaction details if the transaction has not expired and if the JWT is valid.</li>
<li>The app will then begin processing the payment by fetching transaction configs and initiating a card read.</li>
<li>After the consumer has successfully tapped their card on the device, the app will then display the transaction result to the user and return control back to the customer app that initiated the intent transaction with a success or error code.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="approach-12-constant-merchant-id-transaction">Approach 1.2: Constant Merchant Id Transaction<a href="#approach-12-constant-merchant-id-transaction" class="hash-link" aria-label="Direct link to Approach 1.2: Constant Merchant Id Transaction" title="Direct link to Approach 1.2: Constant Merchant Id Transaction">​</a></h3>
<blockquote>
<p>Note: This approach is useful for customers that have a single merchant account that can receive a transaction request. This is only available for tap intent transactions, not TT3 and deeplinking as of yet.</p>
</blockquote>
<ol>
<li>Customer app makes a call to the customer backend to get an intent session token which will be used for all transactions, if it has not already been fetched. This token has a min expiry of 1 hour and a max expiry of 12 hours.</li>
<li>Customer app checks if the session token has not expired and then creates an intent to the Halo.Go/Halo.Link app with the transaction details:</li>
</ol>
<ul>
<li>unique transaction reference</li>
<li>currency code</li>
<li>transaction amount</li>
<li>jwt session token</li>
</ul>
<ol start="3">
<li>The customer app waits for the Halo.Go/Halo.Link app to return control back to the customer app with a success or error code.</li>
</ol>
<p>Once the transaction details are received by the Halo.Go/Halo.Link app, the following takes place:</p>
<ol>
<li>The app will validate the JWT session token and transaction details.</li>
<li>The app will then fetch transaction config if it has not been fetched before, and caches this config.</li>
<li>The app will initiate a card read and wait for the consumer to tap their card on the device to process the payment.</li>
<li>The app will then display the transaction result to the user and return control back to the customer app that initiated the intent transaction with a success or error code.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-android-intents-api">2. Android Intents API<a href="#2-android-intents-api" class="hash-link" aria-label="Direct link to 2. Android Intents API" title="Direct link to 2. Android Intents API">​</a></h2>
<p>Steps in this section:</p>
<ul>
<li>Retrieve a <code>Transaction ID</code> and payment <code>JWT</code> from the Halo Backend.</li>
<li>Retrieve an <code>Intent Session Token</code> from the Halo Backend.</li>
<li>Send an Intent request to the Halo.Go/Halo.Link application.</li>
</ul>
<p><strong>1. Retrieve a Transaction ID and JWT from Halo Backend</strong></p>
<p><em>Let’s take a closer look at the API request.</em></p>
<p><mark style="color:green"><code>POST</code></mark> <code>https://kernelserver.{env}.haloplus.io/consumer/intentTransaction</code></p>
<p>The call to the Halo Dot Backend to initiate an Intent Transaction.</p>
<p><strong>Path Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>env<mark style="color:red">*</mark></td><td>String</td><td>The backend environment [dev, qa, prod]</td></tr></tbody></table>
<p><strong>Headers</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>Content-Type<mark style="color:red">*</mark></td><td>String</td><td>Content Type of the Request: application/json</td></tr><tr><td>x-api-key<mark style="color:red">*</mark></td><td>String</td><td>The API Key retrieved from the Merchant Portal (JWT can be used instead)</td></tr><tr><td>Authorization<mark style="color:red">*</mark></td><td>String</td><td>The JWT retrieved from logging in. (API Key can be used instead)</td></tr></tbody></table>
<p><strong>Request Body</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>merchantId<mark style="color:red">*</mark></td><td>String</td><td>Merchant ID from Merchant Portal</td></tr><tr><td>paymentReference<mark style="color:red">*</mark></td><td>String</td><td>Reference of the transaction</td></tr><tr><td>amount<mark style="color:red">*</mark></td><td>String</td><td>Amount of the transaction (100.01)</td></tr><tr><td>timestamp<mark style="color:red">*</mark></td><td>String</td><td>ISO Standard Timestamp</td></tr><tr><td>currencyCode<mark style="color:red">*</mark></td><td>String</td><td>ISO Standard Currency Codes</td></tr></tbody></table>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">200: OK Intent Transaction JWT</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ffe12ca8-61e6-48f9-b09c-537818652988&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;token&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9.eyJ1c3IiOiJoYWxvIiwiYXVkX2ZpbmdlcnByaW50cyI6InNoYTI1Ni96YzZjOTdKaEtQWlVhK3JJclZxamtuREUxbERjREs3N0c0MXNEbysxYXkwPSIsImtza19waW4iOiJzaGEyNTYvMVpuYTRUNlBLY0ozS3EvZGJWeWxiOG42MmovQWRRWVV6V3JqLzRzazVROD0iLCJtZXJjaGFudElkIjozMTcsImlhdCI6MTY3NTMzMzQyMCwiZXhwIjoxNjc1MzM0MzIwLCJhdWQiOiJrZXJuZWxzZXJ2ZXIucWEuaGFsb3BsdXMuaW8iLCJpc3MiOiJhdXRoc2VydmVyLnFhLmhhbG9wbHVzLmlvIiwic3ViIjoiYzQwMWIxYTYtNDI5Ny00NDM1LTg3OWItMDAyNTZhY2E4N2NjIn0.fCsDOSlkOz2nqjAohFYZNIO6f5cp4xbLer6s4o9BVJckoPRwxShdQLBxOySoYhioZ2WaYWFO-qhxDQjQG8RsPYByGsgIgQtVRaudS_IGI4Xv0KG8p0A9isX8jlw8KEeZwEuaj-zHUg4DAO4n3ydVAd3NjM1oysMKUbdn5MmW-wH7keutNCKtq9qF_hF0A8s3rUCO8UsB5QuXzz18VfPFe6fs3LoOGMHiKvgRWlhpKhrfXWQAw8vpwCLeY58vfa8LFGixMS526322s_dGTxkKC5f366GBWgoqHDyporidblCy64T5MbgifL41kiXahNQs6B4eLmuWeUTosHQ6jUajiEsa61QnUY1K9Pv3kT7bFDYy4Hvu2mdktzpV2p6MpM9gH3E4LLZGKhOJLjkf8LP7NsE-h4aN1XlKHJmMex8yMaAgV-_wxLCDPrK0Q7KgKGTNRByi8HkluhYYuMlslXXjN13ff8alMxCEBeyrkubi_X-tlTeilSmEF1tbWZ4WYiUfbNNqsfFDBKfErQc8dpJz22ou2DxyBd8_esBG1aEv4c5dIPciu_i2vG6FQADW_CNHmc01UnfymyReatc1c0WzFQS_OmoS3yaxymnvlCY_pD_bcZUr-5s60IQnu1D1wCeRfM1QE6-xSJvWx7sbXpbdNGbv1_PFM4xQTsuE6fBxzis&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div></div></div></div>
<p><strong>2. Retrieve an Intent Session Token from the Halo Backend</strong></p>
<p><em>Let’s take a closer look at the API request.</em></p>
<p><mark style="color:green"><code>POST</code></mark> <code>https://authserver.{env}.haloplus.io/refresh/intentSessionToken</code></p>
<p>The call to the Halo backend to retrieve an Intent Session Token.</p>
<p><strong>Path Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>env<mark style="color:red">*</mark></td><td>String</td><td>The backend environment [dev, qa, prod]</td></tr></tbody></table>
<p><strong>Headers</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>Content-Type<mark style="color:red">*</mark></td><td>String</td><td>Content Type of the Request: application/json</td></tr><tr><td>x-api-key<mark style="color:red">*</mark></td><td>String</td><td>The API Key retrieved from the Merchant Portal (JWT can be used instead)</td></tr><tr><td>Authorization<mark style="color:red">*</mark></td><td>String</td><td>The JWT retrieved from logging in. (API Key can be used instead)</td></tr></tbody></table>
<p><strong>Request Body</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>expiryMinutes</td><td>Number</td><td>Duration for which the intent session token should last before it expires. If not provided, the session token will expire after 1 hour/60 minutes. If specified please note the the min value is 60 minutes and the max value is 720 minutes.</td></tr></tbody></table>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">200: OK Intent Session Token Result</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;token&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9.eyJ1c3IiOiJoYWxvIiwiYXVkX2ZpbmdlcnByaW50cyI6InNoYTI1Ni96YzZjOTdKaEtQWlVhK3JJclZxamtuREUxbERjREs3N0c0MXNEbysxYXkwPSIsImtza19waW4iOiJzaGEyNTYvMVpuYTRUNlBLY0ozS3EvZGJWeWxiOG42MmovQWRRWVV6V3JqLzRzazVROD0iLCJtZXJjaGFudElkIjozMTcsImlhdCI6MTY3NTMzMzQyMCwiZXhwIjoxNjc1MzM0MzIwLCJhdWQiOiJrZXJuZWxzZXJ2ZXIucWEuaGFsb3BsdXMuaW8iLCJpc3MiOiJhdXRoc2VydmVyLnFhLmhhbG9wbHVzLmlvIiwic3ViIjoiYzQwMWIxYTYtNDI5Ny00NDM1LTg3OWItMDAyNTZhY2E4N2NjIn0.fCsDOSlkOz2nqjAohFYZNIO6f5cp4xbLer6s4o9BVJckoPRwxShdQLBxOySoYhioZ2WaYWFO-qhxDQjQG8RsPYByGsgIgQtVRaudS_IGI4Xv0KG8p0A9isX8jlw8KEeZwEuaj-zHUg4DAO4n3ydVAd3NjM1oysMKUbdn5MmW-wH7keutNCKtq9qF_hF0A8s3rUCO8UsB5QuXzz18VfPFe6fs3LoOGMHiKvgRWlhpKhrfXWQAw8vpwCLeY58vfa8LFGixMS526322s_dGTxkKC5f366GBWgoqHDyporidblCy64T5MbgifL41kiXahNQs6B4eLmuWeUTosHQ6jUajiEsa61QnUY1K9Pv3kT7bFDYy4Hvu2mdktzpV2p6MpM9gH3E4LLZGKhOJLjkf8LP7NsE-h4aN1XlKHJmMex8yMaAgV-_wxLCDPrK0Q7KgKGTNRByi8HkluhYYuMlslXXjN13ff8alMxCEBeyrkubi_X-tlTeilSmEF1tbWZ4WYiUfbNNqsfFDBKfErQc8dpJz22ou2DxyBd8_esBG1aEv4c5dIPciu_i2vG6FQADW_CNHmc01UnfymyReatc1c0WzFQS_OmoS3yaxymnvlCY_pD_bcZUr-5s60IQnu1D1wCeRfM1QE6-xSJvWx7sbXpbdNGbv1_PFM4xQTsuE6fBxzis&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div></div></div></div>
<p><strong>3. Send an Intent Request to the Halo Dot Go</strong></p>
<p>We provide a sample code to help you with the intent request function call.<br>
<!-- -->The code is available on the <a href="https://go.merchantportal.qa.haloplus.io/deeplinking" target="_blank" rel="noopener noreferrer">merchant portal</a> ⇒ Help Center =&gt; App to App menu item.</p>
<p>Here are the key components of the code as a simple guide:</p>
<ol>
<li><strong>Set key Halo intent constants</strong></li>
</ol>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">companion</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">object</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> HALO_ACTION </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;za.co.synthesis.halo.transaction&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> HALO_REQUEST_CODE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">38</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<ol start="2">
<li><strong>Check if the Halo.Go/Halo.Link app is installed</strong></li>
</ol>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fun</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">isHaloInstalled</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Boolean </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> activities </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> packageManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">queryIntentActivities</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">Intent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">HALO_ACTION</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> activities</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">size </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<ol start="3">
<li><strong>Create a function that will call Halo.Go/Halo.Link through an intent</strong></li>
</ol>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Approach 1: Merchant Id Configurable Transaction</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Approach 2: Constant Merchant Id Transaction</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fun</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">openHaloAppForTransaction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">transactionId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> jwt</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> haloPaymentIntent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Intent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">HALO_ACTION</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">apply</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">putExtra</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;is_tap&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">putExtra</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;transaction_id&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> transactionId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">putExtra</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;jwt&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> jwt</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">startActivityForResult</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">haloPaymentIntent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> HALO_REQUEST_CODE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fun</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">openHaloAppForTransaction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">transactionReference</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> amount</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> jwt</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> haloPaymentIntent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Intent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">HALO_ACTION</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">apply</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">putExtra</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;is_tap&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">putExtra</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;paymentAmount&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> amount</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">putExtra</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;currencyCode&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;ZAR&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">putExtra</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;merchantReference&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> transactionReference</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">putExtra</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;jwt&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> jwt</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">startActivityForResult</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">haloPaymentIntent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> HALO_REQUEST_CODE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div></div></div></div>
<ol start="4">
<li><strong>Handle the result of the intent call</strong></li>
</ol>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">override</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fun</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">onActivityResult</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">requestCode</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> resultCode</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Intent</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">super</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">onActivityResult</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">requestCode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> resultCode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">requestCode </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> HALO_REQUEST_CODE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> transactionId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">data</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getStringExtra</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;result_transaction_id&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> transactionResultType </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">data</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getStringExtra</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;result_transaction_type&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> transactionErrorCode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">data</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getStringExtra</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;result_transaction_error_code&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">resultCode </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> Activity</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">RESULT_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Toast</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">makeText</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;Transaction success, transactionId = </span><span class="token string-literal singleline interpolation interpolation-punctuation punctuation" style="color:#393A34">$</span><span class="token string-literal singleline interpolation expression">transactionId</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Toast</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">LENGTH_SHORT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Toast</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">makeText</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;Transaction Result: </span><span class="token string-literal singleline interpolation interpolation-punctuation punctuation" style="color:#393A34">$</span><span class="token string-literal singleline interpolation expression">transactionResultType</span><span class="token string-literal singleline string" style="color:#e3116c"> with Error Code: </span><span class="token string-literal singleline interpolation interpolation-punctuation punctuation" style="color:#393A34">$</span><span class="token string-literal singleline interpolation expression">transactionErrorCode</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Toast</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">LENGTH_SHORT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>The transaction result intent will have the following extras:</p>
<table><thead><tr><th>Extra Name</th><th>Extra Value</th><th>Description</th></tr></thead><tbody><tr><td>&quot;result_transaction_id&quot;</td><td>A UUID transaction reference. Returned when available.</td><td>This the Halo transaction reference that is used in the get transaction status endpoint call.</td></tr><tr><td>&quot;result_transaction_type&quot;</td><td>The transaction result type returned as a string.</td><td>The transaction result type may have the following values: Approved, Declined, CardTapTimeOutExpired, NetworkError, ProcessingError, Cancelled, TryAnotherCard, NFCDisabledError, NotAuthenticated, Indeterminate, DuplicateMerchantTransactionReferenceSupplied, InvalidJWT.</td></tr><tr><td>&quot;result_transaction_error_code&quot;</td><td>The Halo Transaction Error Code as an Integer.</td><td>The Halo Error Code may be created by the Halo.Link app, Halo.SDK or the Halo Backend. Please see the table below as reference.</td></tr></tbody></table>
<p>A reference to the relevant Halo Error codes for this integration:</p>
<table><thead><tr><th>Error Code</th><th>Description</th></tr></thead><tbody><tr><td>0</td><td>OK</td></tr><tr><td>1</td><td>Declined</td></tr><tr><td>2</td><td>DeclinedOffline</td></tr><tr><td>3 - 100</td><td>Device Security Errors</td></tr><tr><td>100</td><td>Unauthorised</td></tr><tr><td>105</td><td>BlockedUser</td></tr><tr><td>106 - 116</td><td>Device Security Errors</td></tr><tr><td>117</td><td>JWTInvalid</td></tr><tr><td>118</td><td>JWTExpired</td></tr><tr><td>119 - 123</td><td>Merchant Errors</td></tr><tr><td>124</td><td>DuplicateMerchantReference</td></tr><tr><td>125 - 299</td><td>Server Errors</td></tr><tr><td>300</td><td>NFCDisabled</td></tr><tr><td>301</td><td>InvalidSystemState</td></tr><tr><td>302</td><td>InvalidCurrency</td></tr><tr><td>303</td><td>InvalidAndroidVersion</td></tr><tr><td>304</td><td>ErrorParsingJWT</td></tr><tr><td>305</td><td>NetworkError</td></tr><tr><td>306 - 310</td><td>Server Security Errors</td></tr><tr><td>311</td><td>GooglePlayUnavailable</td></tr><tr><td>312 - 316</td><td>Device Security Errors</td></tr><tr><td>317</td><td>CancelledTransaction</td></tr><tr><td>318</td><td>CardTapTimeoutExpired</td></tr><tr><td>319</td><td>TransactionError</td></tr><tr><td>320 - 323</td><td>Device Security Errors</td></tr><tr><td>399</td><td>SystemNotInitialised</td></tr><tr><td>401</td><td>CameraPermissionNotGranted</td></tr><tr><td>402</td><td>AccessibilityServiceBlocksPin e.g. a screen overlay has been detected.</td></tr><tr><td>403</td><td>DeveloperOptionsBlockPin</td></tr><tr><td>404 - 405</td><td>Server and Device Errors</td></tr><tr><td>410</td><td>InvalidTransactionReference</td></tr><tr><td>500 and over</td><td>Out of Scope</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-deeplinking">3. Deeplinking<a href="#3-deeplinking" class="hash-link" aria-label="Direct link to 3. Deeplinking" title="Direct link to 3. Deeplinking">​</a></h2>
<p><strong>1. Retrieve a Transaction Deep Link from the Halo Backend</strong></p>
<p>You will need a <code>API Key</code> and <code>Merchant ID</code> from the <a href="https://go.merchantportal.prod.haloplus.io/" target="_blank" rel="noopener noreferrer">Merchant Portal</a> for this API call. The response will contain a deep link that can be used to invoke the Halo.Go/Halo.Link app.</p>
<p><em><strong>Let’s take a closer look at the API request.</strong></em></p>
<p><mark style="color:green"><code>POST</code></mark> <code>https://kernelserver.{env}.haloplus.io/consumer/qrCode</code></p>
<p>The call to the Halo backend to retrieve a deep link.</p>
<p><strong>Path Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>env<mark style="color:red">*</mark></td><td>String</td><td>The backend environment [dev, qa, prod]</td></tr></tbody></table>
<p><strong>Headers</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>Content-Type<mark style="color:red">*</mark></td><td>String</td><td>Content Type of the Request: application/json</td></tr><tr><td>x-api-key<mark style="color:red">*</mark></td><td>String</td><td>The API Key retrieved from the Merchant Portal (JWT can be used instead)</td></tr><tr><td>Authorization<mark style="color:red">*</mark></td><td>String</td><td>The JWT retrieved from logging in. (API Key can be used instead)</td></tr></tbody></table>
<p><strong>Request Body</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>merchantId<mark style="color:red">*</mark></td><td>Integer</td><td>Merchant ID from Merchant Portal</td></tr><tr><td>paymentReference<mark style="color:red">*</mark></td><td>String</td><td>Reference of the transaction</td></tr><tr><td>amount<mark style="color:red">*</mark></td><td>String</td><td>Amount of the transaction (100.01)</td></tr><tr><td>timestamp<mark style="color:red">*</mark></td><td>String</td><td>ISO Standard Timestamp</td></tr><tr><td>currencyCode<mark style="color:red">*</mark></td><td>String</td><td>ISO Standard Currency Codes</td></tr><tr><td>isConsumerApp<mark style="color:red">*</mark></td><td>Boolean</td><td>Indicate if the call is for a Consumer App</td></tr><tr><td>image<mark style="color:red">*</mark></td><td>JSON</td><td>Set to true to generate a QR code - { &quot;required&quot;: false }</td></tr></tbody></table>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">200: Ok Deep link to invoke Halo.Go/Halo.Link</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">200: OK Deep link to invoke Halo.Go/Halo.Link with base64</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;url&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://halompos.page.link/DYfL4EZEzvAzBfBAS&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;reference&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;c9e1were-8156-444c-894d-e065d71366a6&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;qrCode&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;data:image/png;base64,...&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;url&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://halompos.page.link/DYfL4EZEzvAzBfBAS&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;reference&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;c9e1were-8156-444c-894d-e065d71366a6&quot;</span><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div></div></div></div>
<p><strong>2. Use the Generated URL to call the Halo Dot Go application</strong></p>
<p>The generated link returned by the API call can then be used to invoke the Halo.Go/Halo.Link application and start process transactions.</p>
<p>Should you pass in the <code>image</code> param in the body, you will then be able to retrieve the base64 encoded QrCode image. This can be used to scan the image and open the payment application with the payment details specified in the request.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-conclusion">4. Conclusion<a href="#4-conclusion" class="hash-link" aria-label="Direct link to 4. Conclusion" title="Direct link to 4. Conclusion">​</a></h2>
<p>That concludes the guide on integrating the Halo.Go/Halo.Link app into your payment flow. For any questions, please do not hesitate to reach out to the Halo Dot Team.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/versioned_docs/version-2.1/documentations/intents/getting-started"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Getting Started with Intents</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/versioned_docs/version-2.1/documentations/intents/tt3-app2app-integration-guide"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">TT3 App to App Integration Guide</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-architecture" class="table-of-contents__link toc-highlight">1. Architecture</a><ul><li><a href="#approach-11-merchant-id-configurable-transaction" class="table-of-contents__link toc-highlight">Approach 1.1: Merchant Id Configurable Transaction</a></li><li><a href="#approach-12-constant-merchant-id-transaction" class="table-of-contents__link toc-highlight">Approach 1.2: Constant Merchant Id Transaction</a></li></ul></li><li><a href="#2-android-intents-api" class="table-of-contents__link toc-highlight">2. Android Intents API</a></li><li><a href="#3-deeplinking" class="table-of-contents__link toc-highlight">3. Deeplinking</a></li><li><a href="#4-conclusion" class="table-of-contents__link toc-highlight">4. Conclusion</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://halodot.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Halodot.io<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.synthesis.co.za/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Synthesis<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/halo-dot/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/halo-dot/test_app-android_sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Halodot.io.</div></div></div></footer></div>
</body>
</html>